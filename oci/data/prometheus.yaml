application: Prometheus
main: false
repo: prometheus
description: >
  Prometheus is a systems and service monitoring system. It collects metrics from configured targets at given intervals, evaluates rule expressions, displays the results, and can trigger alerts if some condition is observed to be true. Read more on the [Prometheus website](https://prometheus.io/).
version: 2.20.1
base: Ubuntu 20.04 LTS
architectures:
  - amd64
  - arm64
  - ppc64el
  - s390x
docker:
  parameters:
    - -p 30090:9090
  access: Access your Prometheus server at `localhost:30090`.
parameters:
  - type: -e
    value: TZ=UTC
    description: Timezone.
  - type: -p
    value: 30090:9090
    description: Expose Prometheus server on `localhost:30090`.
  - type: -v
    value: /path/to/prometheus.yml:/etc/prometheus/prometheus.yml
    description: Local [configuration file](https://prometheus.io/docs/prometheus/2.20/configuration/configuration/) `prometheus.yml` (try [this example](https://git.launchpad.net/~canonical-server/ubuntu-docker-images/+git/prometheus/plain/oci/examples/config/prometheus.yml)).
  - type: -v
    value: /path/to/alerts.yml:/etc/prometheus/alerts.yml
    description: Local [alert configuration file](https://prometheus.io/docs/prometheus/2.20/configuration/configuration/) `alerts.yml` (try [this example](https://git.launchpad.net/~canonical-server/ubuntu-docker-images/+git/prometheus/plain/oci/examples/config/alerts.yml)).
debug:
  - nothing
microk8s:
  configmap:
    files:
      - key: prometheus
        name: prometheus.yml
        link: https://git.launchpad.net/~canonical-server/ubuntu-docker-images/+git/prometheus/plain/oci/examples/config/prometheus.yml
      - key: prometheus-alerts
        name: alerts.yml
        link: https://git.launchpad.net/~canonical-server/ubuntu-docker-images/+git/prometheus/plain/oci/examples/config/alerts.yml
  deploy:
    link: https://git.launchpad.net/~canonical-server/ubuntu-docker-images/+git/prometheus/plain/oci/examples/prometheus-deployment.yml
    access: You will now be able to connect to the Prometheus on `http://localhost:30090`.
